<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Fridge - Smart Meal Planning</title>
<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<!-- CSS Files -->
<link rel="stylesheet" href="css/variables.css">
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/components.css">
<link rel="stylesheet" href="css/responsive.css">
<!-- Favicon -->
<link rel="icon" type="image/x-icon" href="assets/favicon.ico">
<style>

/* Fix for scroll displacement - add this to your CSS */
html, body {
    overflow-x: hidden;
    position: relative;
    -webkit-overflow-scrolling: touch;
}

/* Prevent elastic scrolling on mobile */
body {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
}

/* Alternative solution - disable transforms during scroll */
.smart-fridge-layout {
    position: relative;
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
}

/* Remove transforms that cause displacement */
.add-ingredient-card:hover,
.search-input:hover,
.filter-btn:hover,
.ingredient-card:hover {
    transform: none !important;
}

/* Keep only safe transforms */
.btn:hover {
    transform: translateY(-1px) !important;
}

/* Prevent background displacement */
.container {
    position: relative;
    overflow-x: hidden;
    min-height: 100vh;
}

/* Fix for mobile elastic scrolling */
@media (max-width: 768px) {
    html, body {
        position: relative;
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch;
        overscroll-behavior: none;
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
    
    /* Disable all hover transforms on mobile */
    *:hover {
        transform: none !important;
    }
}

/* New Inventory Layout */
.inventory-container {
padding: var(--space-6);
max-width: 1400px;
margin: 0 auto;
}

.add-ingredient-card {
background: var(--bg-primary);
border-radius: var(--radius-2xl);
padding: var(--space-6);
margin-bottom: var(--space-6);
box-shadow: var(--shadow-lg);
border: 1px solid var(--border-light);
}

.add-ingredient-card h3 {
margin: 0 0 var(--space-4) 0;
color: var(--text-primary);
font-size: var(--text-2xl);
font-weight: var(--font-semibold);
}

.ingredient-form-grid {
display: grid;
gap: var(--space-4);
}

.form-row {
display: grid;
grid-template-columns: 1fr 1fr;
gap: var(--space-4);
}

.form-group {
display: flex;
flex-direction: column;
}

.form-group label {
margin-bottom: var(--space-2);
font-weight: var(--font-semibold);
color: var(--text-primary);
font-size: var(--text-sm);
}

.form-group input,
.form-group select {
padding: var(--space-3) var(--space-4);
border: none;
border-radius: var(--radius-xl);
background: var(--bg-secondary);
color: var(--text-primary);
font-size: var(--text-base);
transition: var(--transition-all);
}

.form-group input:focus,
.form-group select:focus {
outline: none;
background: var(--bg-tertiary);
transform: translateY(-1px);
box-shadow: var(--shadow-md);
}

.form-buttons {
display: flex;
gap: var(--space-3);
justify-content: flex-start;
margin-top: var(--space-2);
}

.form-buttons .btn {
padding: var(--space-3) var(--space-8);
border-radius: var(--radius-xl);
font-weight: var(--font-semibold);
border: none;
cursor: pointer;
transition: var(--transition-all);
}

.btn-primary {
background: var(--success-color);
color: white;
}

.btn-primary:hover {
background: #059669;
transform: translateY(-2px);
}

.btn-secondary {
background: #ef4444;
color: white;
}

.btn-secondary:hover {
background: #dc2626;
transform: translateY(-2px);
}

/* Search Container */
.search-container {
margin-bottom: var(--space-6);
}

.search-input {
width: 100%;
padding: var(--space-4) var(--space-6);
border: none;
border-radius: var(--radius-2xl);
background: var(--bg-primary);
box-shadow: var(--shadow-lg);
font-size: var(--text-lg);
transition: var(--transition-all);
}

.search-input:focus {
outline: none;
transform: translateY(-2px);
box-shadow: var(--shadow-xl);
}

/* Category Filters */
.category-filters {
display: flex;
gap: var(--space-3);
margin-bottom: var(--space-6);
flex-wrap: wrap;
justify-content: center;
}

.filter-btn {
padding: var(--space-3) var(--space-6);
border: none;
border-radius: var(--radius-2xl);
background: rgba(255, 255, 255, 0.2);
color: white;
font-weight: var(--font-semibold);
cursor: pointer;
transition: var(--transition-all);
backdrop-filter: blur(10px);
}

.filter-btn:hover {
background: rgba(255, 255, 255, 0.3);
transform: translateY(-2px);
}

.filter-btn.active {
background: white;
color: var(--primary-color);
}

/* Inventory Grid */
.inventory-grid {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
gap: var(--space-6);
}

.ingredient-card {
background: var(--bg-primary);
border-radius: var(--radius-2xl);
padding: 0;
box-shadow: var(--shadow-lg);
border: 1px solid var(--border-light);
transition: var(--transition-all);
overflow: hidden;
position: relative;
min-height: 220px; /* Increased height to fit buttons */
display: flex;
flex-direction: column;
}

.ingredient-card:hover {
transform: translateY(-4px);
box-shadow: var(--shadow-xl);
}

.ingredient-card h4 {
margin: 0 0 var(--space-2) 0;
color: var(--text-primary);
font-size: var(--text-xl);
font-weight: var(--font-semibold);
}

.ingredient-quantity {
color: var(--text-secondary);
font-size: var(--text-lg);
margin-bottom: var(--space-4);
}

.ingredient-actions {
display: flex;
gap: var(--space-3);
}

.ingredient-actions .btn {
flex: 1;
padding: var(--space-2) var(--space-4);
border-radius: var(--radius-lg);
border: none;
font-weight: var(--font-semibold);
cursor: pointer;
transition: var(--transition-all);
}

.btn-edit {
background: var(--primary-color);
color: white;
}

.btn-edit:hover {
background: var(--secondary-color);
transform: translateY(-1px);
box-shadow: 0 4px 8px rgba(102, 126, 234, 0.3);
}

.btn-delete {
background: #ef4444;
color: white;
}

.btn-delete:hover {
background: #dc2626;
transform: translateY(-1px);
box-shadow: 0 4px 8px rgba(239, 68, 68, 0.3);
}

.ingredient-actions::before {
content: '';
position: absolute;
bottom: 0;
left: 0;
right: 0;
height: 60px;
background: linear-gradient(to top, rgba(255,255,255,0.95), transparent);
z-index: -1;
border-radius: 0 0 var(--radius-2xl) var(--radius-2xl);
}

/* Responsive Design */
@media (max-width: 768px) {
.form-row {
grid-template-columns: 1fr;
}

.category-filters {
gap: var(--space-2);
}

.filter-btn {
padding: var(--space-2) var(--space-4);
font-size: var(--text-sm);
}

.inventory-grid {
grid-template-columns: 1fr;
gap: var(--space-4);
}
}

/* Fixed Ingredient Card Styles */
.ingredient-card {
    background: var(--bg-primary);
    border-radius: var(--radius-2xl);
    box-shadow: var(--shadow-lg);
    border: 1px solid var(--border-light);
    transition: var(--transition-all);
    overflow: hidden;
    position: relative;
    min-height: 200px;
    display: flex;
    flex-direction: column;
}

.ingredient-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-xl);
}

.card-background {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-size: cover;
    background-position: center;
    z-index: 1;
}

.card-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.8) 100%);
    z-index: 2;
}

.card-content {
    position: relative;
    z-index: 3;
    padding: var(--space-4);
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.ingredient-info {
    flex: 1;
    margin-bottom: var(--space-4);
}

.ingredient-card h4 {
    margin: 0 0 var(--space-2) 0;
    color: var(--text-primary);
    font-size: var(--text-xl);
    font-weight: var(--font-bold);
    text-shadow: 0 1px 2px rgba(255,255,255,0.8);
}

.ingredient-quantity {
    color: var(--text-secondary);
    font-size: var(--text-lg);
    font-weight: var(--font-medium);
    text-shadow: 0 1px 2px rgba(255,255,255,0.8);
}

.ingredient-actions {
    display: flex;
    gap: var(--space-2);
    margin-top: auto;
    background: rgba(255, 255, 255, 0.95);
    border-radius: var(--radius-lg);
    padding: var(--space-3);
    backdrop-filter: blur(5px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.ingredient-actions .btn {
    flex: 1;
    padding: var(--space-3) var(--space-4);
    border-radius: var(--radius-md);
    border: none;
    font-weight: var(--font-semibold);
    cursor: pointer;
    transition: var(--transition-all);
    font-size: var(--text-sm);
    text-align: center;
    min-height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.btn-edit {
    background: var(--primary-color);
    color: white;
}

.btn-edit:hover {
    background: var(--secondary-color);
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(102, 126, 234, 0.3);
}

.btn-delete {
    background: #ef4444;
    color: white;
}

.btn-delete:hover {
    background: #dc2626;
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(239, 68, 68, 0.3);
}

/* Mobile Navigation Bar */
@media (max-width: 768px) {
  .mobile-nav {
    display: block !important;
    position: fixed !important;
    top: env(safe-area-inset-top, 0) !important;
    left: 0 !important;
    right: 0 !important;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
    padding: 4px 8px !important;
    z-index: 1003 !important;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1) !important;
    height: 65px !important;
  }

  .mobile-nav-header {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    margin-bottom: 4px !important;
    color: white !important;
    height: 30px !important; }

  /* .mobile-nav-logo {
    display: flex !important;
    align-items: center !important;
    gap: var(--space-2) !important;
  } */

  .mobile-nav-logo .fridge-icon {
    background: rgba(255, 255, 255, 0.2) !important;
    border-radius: 50% !important;
    width: 24px !important; /* Smaller icon */
    height: 24px !important; /* Smaller icon */
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    font-size: 1rem !important; /* Smaller font */
  }

  .mobile-nav-logo .logo-text {
    font-size: var(--text-base) !important; /* Smaller text */
    font-weight: var(--font-bold) !important;
  }

  .mobile-nav-tabs {
    display: flex !important;
    gap: 5px !important;
    overflow-x: auto !important;
    padding: 0 6px !important;
    scrollbar-width: none !important;
    -ms-overflow-style: none !important;
    height: 35px !important;
  }

  .mobile-nav-tabs::-webkit-scrollbar {
    display: none !important;
  }

  .mobile-nav-tab {
    flex-shrink: 0 !important;
    background: rgba(255, 255, 255, 0.2) !important;
    border: none !important;
    border-radius: 14px !important;
    padding: 4px 12px !important;
    color: rgba(255, 255, 255, 0.8) !important;
    font-weight: 500 !important;
    font-size: 11px !important;
    cursor: pointer !important;
    transition: all 0.3s ease !important;
    white-space: nowrap !important;
    min-width: 60px !important;
    height: 28px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
  }

  .mobile-nav-tab.active {
    background: white !important;
    color: var(--primary-color) !important;
    font-weight: var(--font-semibold) !important;
    transform: translateY(-1px) !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
  }

  .mobile-nav-tab:hover:not(.active) {
    background: rgba(255, 255, 255, 0.3) !important;
    color: white !important;
  }

  /* Hide desktop sidebar and old mobile header on mobile */
  .sidebar {
    display: none !important;
  }
  
  .mobile-header {
    display: none !important;
  }

  /* Adjust main content for mobile nav */
  .main-content {
    margin-left: 0 !important;
    width: 100% !important;
    padding-top: 70px !important;
    padding-left: 15px !important;
    padding-right: 15px !important;
    padding-bottom: 15px !important;
  }
}
@media (max-width: 768px) {
  .content-section {
    padding-top: var(--space-4) !important;
    min-height: calc(100vh - 100px) !important;
    overflow-y: auto !important;
  }
  
  .dashboard-top-row {
    margin-top: var(--space-4) !important;
  }
}

/* Show mobile nav only on mobile */
.mobile-nav {
  display: none;
}

/* Modal improvements */
.modal {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.5);
display: flex;
align-items: center;
justify-content: center;
z-index: 1000;
opacity: 0;
transition: opacity 0.3s ease;
}

.modal.active {
opacity: 1;
}

.modal-content {
background: var(--bg-primary);
border-radius: var(--radius-2xl);
padding: var(--space-6);
max-width: 500px;
width: 90%;
max-height: 80vh;
overflow-y: auto;
transform: scale(0.9);
transition: transform 0.3s ease;
box-shadow: var(--shadow-2xl);
}

.modal.active .modal-content {
transform: scale(1);
}

.modal-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: var(--space-5);
padding-bottom: var(--space-3);
border-bottom: 1px solid var(--border-light);
}

.modal-title {
color: var(--text-primary);
font-size: var(--text-xl);
font-weight: var(--font-semibold);
margin: 0;
}

.modal-close {
background: none;
border: none;
font-size: 1.5rem;
cursor: pointer;
color: var(--text-secondary);
padding: var(--space-2);
border-radius: var(--radius-md);
transition: all 0.3s ease;
width: 40px;
height: 40px;
display: flex;
align-items: center;
justify-content: center;
}

.modal-close:hover {
background: var(--bg-secondary);
color: var(--text-primary);
}

.modal-actions {
display: flex;
gap: var(--space-3);
margin-top: var(--space-6);
justify-content: flex-end;
}

.modal-actions .btn {
padding: var(--space-3) var(--space-6);
border-radius: var(--radius-lg);
border: none;
font-weight: var(--font-semibold);
cursor: pointer;
transition: var(--transition-all);
}

/* Delete confirmation modal styling */
.modal-body p {
margin-bottom: var(--space-6);
color: var(--text-secondary);
line-height: 1.6;
text-align: center;
}

/* Responsive adjustments */
@media (max-width: 640px) {
.ingredient-card {
min-height: 180px;
}

.card-content {
padding: var(--space-4);
}

.ingredient-card h4 {
font-size: var(--text-lg);
}

.ingredient-quantity {
font-size: var(--text-base);
}

.ingredient-actions .btn {
padding: var(--space-2) var(--space-3);
font-size: var(--text-xs);
}

.modal-content {
width: 95%;
padding: var(--space-4);
}

.modal-actions {
flex-direction: column;
}
}

/* Calendar Panel Responsive Fixes */
.calendar-panel {
    flex: 1;
    background: var(--primary-color);
    border-radius: var(--radius-2xl);
    padding: var(--space-6);
    color: white;
    min-width: 0;
    display: flex;
    flex-direction: column;
    height: fit-content;
}

.calendar-header-new {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: var(--space-6);
    flex-shrink: 0;
}

.calendar-weekdays {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: var(--space-2);
    margin-bottom: var(--space-4);
    flex-shrink: 0;
}

.weekday {
    text-align: center;
    color: rgba(255, 255, 255, 0.8);
    font-size: var(--text-sm);
    font-weight: var(--font-medium);
    padding: var(--space-2);
    min-height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.calendar-dates-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: var(--space-2);
    flex: 1;
    align-content: start;
}

.calendar-date {
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-lg);
    font-weight: var(--font-medium);
    cursor: pointer;
    transition: var(--transition-all);
    position: relative;
    min-height: 40px;
    max-height: 60px;
    font-size: var(--text-sm);
}

/* Responsive adjustments for different screen sizes */
@media (min-width: 1200px) {
    .calendar-dates-grid {
        gap: var(--space-3);
    }
    
    .calendar-date {
        min-height: 50px;
        max-height: 70px;
        font-size: var(--text-base);
    }
    
    .weekday {
        font-size: var(--text-base);
        min-height: 40px;
    }
}

@media (min-width: 1440px) {
    .calendar-dates-grid {
        gap: var(--space-4);
    }
    
    .calendar-date {
        min-height: 60px;
        max-height: 80px;
    }
}

@media (max-width: 1199px) {
    .calendar-dates-grid {
        gap: var(--space-1);
    }
    
    .calendar-date {
        min-height: 35px;
        max-height: 50px;
        font-size: var(--text-xs);
    }
    
    .weekday {
        font-size: var(--text-xs);
        min-height: 28px;
    }
}

/* Fix for very large monitors */
@media (min-width: 1600px) {
    .calendar-split-container {
        max-width: 1400px;
        margin: 0 auto;
    }
    
    .calendar-panel {
        max-width: 600px;
    }
}

/* Ensure proper grid behavior */
.calendar-dates-grid {
    width: 100%;
    height: auto;
    min-height: 280px;
    max-height: 420px;
}

/* Fix calendar date alignment */
.calendar-date {
    width: 100%;
    height: 100%;
    box-sizing: border-box;
    text-align: center;
    line-height: 1;
}

.calendar-date:hover {
    background: rgba(255, 255, 255, 0.1);
}

.calendar-date.other-month {
    color: rgba(255, 255, 255, 0.3);
}

.calendar-date.selected {
    background: white;
    color: var(--primary-color);
    font-weight: var(--font-bold);
}

.calendar-date.today {
    background: rgba(255, 255, 255, 0.2);
    border: 2px solid white;
}

.calendar-date.has-meals::after {
    content: '';
    position: absolute;
    bottom: 4px;
    left: 50%;
    transform: translateX(-50%);
    width: 6px;
    height: 6px;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 50%;
}

.calendar-date.selected.has-meals::after {
    background: var(--primary-color);
}

/* Calendar Split Layout Styles */
.calendar-split-container {
display: flex;
height: calc(100vh - 120px);
gap: var(--space-6);
padding: var(--space-4);
box-sizing: border-box;
}

/* Left Panel - Meal Details */
.meal-details-panel {
flex: 1;
display: flex;
flex-direction: column;
gap: var(--space-6);
min-width: 0; /* Prevent flex overflow */
}

.meal-details-header {
background: var(--bg-primary);
border-radius: var(--radius-2xl);
padding: var(--space-6);
box-shadow: var(--shadow-lg);
border: 1px solid var(--border-light);
}

.meal-details-header h2 {
margin: 0 0 var(--space-3) 0;
color: var(--text-primary);
font-size: var(--text-2xl);
font-weight: var(--font-semibold);
}

.total-calories {
color: var(--text-secondary);
font-size: var(--text-lg);
font-weight: var(--font-medium);
}

.total-calories span:last-child {
color: var(--primary-color);
font-weight: var(--font-bold);
}

.meal-details-content {
flex: 1;
display: flex;
flex-direction: column;
gap: var(--space-4);
overflow-y: auto;
min-height: 200px;
}

.no-meals-selected {
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
padding: var(--space-12);
color: var(--text-secondary);
text-align: center;
background: var(--bg-primary);
border-radius: var(--radius-2xl);
border: 1px solid var(--border-light);
}

.empty-meal-icon {
font-size: 4rem;
margin-bottom: var(--space-4);
opacity: 0.5;
}

.meal-card {
background: var(--bg-primary);
border-radius: var(--radius-2xl);
padding: var(--space-6);
box-shadow: var(--shadow-lg);
border: 1px solid var(--border-light);
display: flex;
gap: var(--space-4);
transition: var(--transition-all);
}

.meal-card:hover {
transform: translateY(-2px);
box-shadow: var(--shadow-xl);
}

.meal-image {
width: 80px;
height: 80px;
border-radius: var(--radius-xl);
background: var(--bg-secondary);
display: flex;
align-items: center;
justify-content: center;
font-size: 2rem;
flex-shrink: 0;
overflow: hidden;
}

.meal-image img {
width: 100%;
height: 100%;
object-fit: cover;
}

.meal-info {
flex: 1;
display: flex;
flex-direction: column;
justify-content: center;
min-width: 0;
}

.meal-name {
font-size: var(--text-xl);
font-weight: var(--font-semibold);
color: var(--text-primary);
margin-bottom: var(--space-2);
word-wrap: break-word;
}

.meal-nutrition {
display: flex;
flex-direction: column;
gap: var(--space-1);
}

.nutrition-item {
color: var(--text-secondary);
font-size: var(--text-sm);
}

/* Top Meals Section */
.top-meals-section {
background: var(--bg-primary);
border-radius: var(--radius-2xl);
padding: var(--space-6);
box-shadow: var(--shadow-lg);
border: 1px solid var(--border-light);
}

.top-meals-section h3 {
margin: 0 0 var(--space-4) 0;
color: var(--text-primary);
font-size: var(--text-xl);
font-weight: var(--font-semibold);
}

.top-meals-grid {
display: flex;
gap: var(--space-4);
overflow-x: auto;
padding-bottom: var(--space-2);
}

.top-meal-item {
flex-shrink: 0;
display: flex;
flex-direction: column;
align-items: center;
padding: var(--space-3);
background: var(--bg-secondary);
border-radius: var(--radius-lg);
min-width: 120px;
transition: var(--transition-all);
position: relative;
}

.top-meal-item:hover {
background: var(--bg-tertiary);
transform: translateY(-2px);
}

.top-meal-image {
width: 60px;
height: 60px;
border-radius: var(--radius-lg);
background: var(--bg-tertiary);
display: flex;
align-items: center;
justify-content: center;
font-size: 1.5rem;
margin-bottom: var(--space-2);
position: relative;
overflow: hidden;
}

.top-meal-image img {
width: 100%;
height: 100%;
object-fit: cover;
}

.meal-rank {
position: absolute;
top: -8px;
right: -8px;
background: var(--primary-color);
color: white;
border-radius: 50%;
width: 24px;
height: 24px;
display: flex;
align-items: center;
justify-content: center;
font-size: var(--text-xs);
font-weight: var(--font-bold);
border: 2px solid white;
}

.top-meal-name {
font-size: var(--text-sm);
font-weight: var(--font-medium);
color: var(--text-primary);
text-align: center;
margin-bottom: var(--space-1);
word-wrap: break-word;
}

.meal-count {
font-size: var(--text-xs);
color: var(--text-secondary);
}

/* Right Panel - Calendar */
.calendar-panel {
flex: 1;
background: var(--primary-color);
border-radius: var(--radius-2xl);
padding: var(--space-6);
color: white;
min-width: 0;
}

.calendar-header-new {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: var(--space-6);
}

.calendar-header-new h2 {
margin: 0;
color: white;
font-size: var(--text-2xl);
font-weight: var(--font-semibold);
}

.calendar-nav-btn {
background: rgba(255, 255, 255, 0.2);
border: none;
border-radius: var(--radius-lg);
width: 40px;
height: 40px;
display: flex;
align-items: center;
justify-content: center;
color: white;
font-size: var(--text-lg);
cursor: pointer;
transition: var(--transition-all);
}

.calendar-nav-btn:hover {
background: rgba(255, 255, 255, 0.3);
transform: scale(1.1);
}

.calendar-weekdays {
display: grid;
grid-template-columns: repeat(7, 1fr);
gap: var(--space-2);
margin-bottom: var(--space-4);
}

.weekday {
text-align: center;
color: rgba(255, 255, 255, 0.8);
font-size: var(--text-sm);
font-weight: var(--font-medium);
padding: var(--space-2);
}

.calendar-dates-grid {
display: grid;
grid-template-columns: repeat(7, 1fr);
gap: var(--space-2);
}

.calendar-date {
aspect-ratio: 1;
display: flex;
align-items: center;
justify-content: center;
border-radius: var(--radius-lg);
font-weight: var(--font-medium);
cursor: pointer;
transition: var(--transition-all);
position: relative;
min-height: 50px;
}

.calendar-date:hover {
background: rgba(255, 255, 255, 0.1);
}

.calendar-date.other-month {
color: rgba(255, 255, 255, 0.3);
}

.calendar-date.selected {
background: white;
color: var(--primary-color);
font-weight: var(--font-bold);
}

.calendar-date.today {
background: rgba(255, 255, 255, 0.2);
border: 2px solid white;
}

.calendar-date.has-meals::after {
content: '';
position: absolute;
bottom: 4px;
left: 50%;
transform: translateX(-50%);
width: 6px;
height: 6px;
background: rgba(255, 255, 255, 0.8);
border-radius: 50%;
}

.calendar-date.selected.has-meals::after {
background: var(--primary-color);
}

/* Category styling */
.category-section {
margin-bottom: var(--space-6);
}

.category-header {
display: flex;
align-items: center;
gap: var(--space-2);
margin-bottom: var(--space-4);
padding: var(--space-3) var(--space-4);
background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
border-radius: var(--radius-lg);
backdrop-filter: blur(10px);
border: 1px solid rgba(255,255,255,0.1);
}

.category-icon {
font-size: 1.5rem;
}

.category-title {
margin: 0;
color: var(--text-primary);
font-size: var(--text-lg);
font-weight: var(--font-semibold);
flex: 1;
}

.category-count {
color: var(--text-secondary);
font-size: var(--text-sm);
background: rgba(255,255,255,0.1);
padding: var(--space-1) var(--space-2);
border-radius: var(--radius-md);
}

.category-items {
display: grid;
gap: var(--space-3);
}

/* Enhanced ingredient item styling */
.ingredient-item {
display: flex;
justify-content: space-between;
align-items: center;
padding: var(--space-4);
margin-bottom: 0;
background: var(--bg-primary);
border-radius: var(--radius-lg);
transition: var(--transition-all);
border: 1px solid var(--border-light);
box-shadow: var(--shadow-sm);
}

.ingredient-item:hover {
background: var(--bg-secondary);
transform: translateY(-2px);
box-shadow: var(--shadow-md);
border-color: var(--primary-color);
}

.ingredient-info {
flex: 1;
}

.ingredient-name {
font-weight: var(--font-semibold);
color: var(--text-primary);
margin-bottom: var(--space-1);
font-size: var(--text-base);
}

.ingredient-quantity {
font-size: var(--text-sm);
color: var(--text-secondary);
}

.ingredient-actions {
display: flex;
gap: var(--space-2);
opacity: 0;
transition: var(--transition-normal);
}

.ingredient-item:hover .ingredient-actions {
opacity: 1;
}

/* Responsive adjustments */
.mobile-header {
    display: none;
}

.mobile-overlay {
    display: none;
}

/* Mobile Responsive Fixes */
@media (max-width: 768px) {
    /* Mobile header - highest priority */
    .mobile-header {
        display: flex !important;
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        height: 60px !important;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
        align-items: center !important;
        justify-content: space-between !important;
        padding: 0 20px !important;
        z-index: 1003 !important; /* Higher than sidebar */
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2) !important;
    }
    
    .mobile-logo {
        height: 35px;
        width: 35px;
        object-fit: contain;
    }
    
    .mobile-title {
        color: white;
        font-size: 1.1rem;
        font-weight: 600;
        flex: 1;
        text-align: center;
        margin: 0 20px;
    }
    
    .menu-toggle {
        background: rgba(255, 255, 255, 0.2) !important;
        border: none !important;
        color: white !important;
        font-size: 1.3rem !important;
        cursor: pointer !important;
        padding: 8px 10px !important;
        border-radius: 8px !important;
        transition: all 0.3s ease !important;
        width: 40px !important;
        height: 40px !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
    }
    
    .menu-toggle:hover {
        background: rgba(255, 255, 255, 0.3) !important;
    }
    
    /* Mobile overlay - behind sidebar but above content */
    .mobile-overlay {
        display: block !important;
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        background: rgba(0, 0, 0, 0.5) !important;
        z-index: 1001 !important; /* Below sidebar */
        opacity: 0 !important;
        visibility: hidden !important;
        transition: all 0.3s ease !important;
        pointer-events: none !important;
    }
    
    .mobile-overlay.active {
        opacity: 1 !important;
        visibility: visible !important;
        pointer-events: auto !important;
    }

    /* Sidebar - middle layer */
    .sidebar {
        position: fixed !important;
        left: -100% !important;
        top: 0 !important;
        width: 280px !important;
        height: 100vh !important;
        z-index: 1002 !important; /* Above overlay, below header */
        transition: left 0.3s ease !important;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
        backdrop-filter: blur(20px) !important;
        border-right: 1px solid rgba(255, 255, 255, 0.2) !important;
        box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3) !important;
        margin-left: 0 !important;
        transform: translateX(-100%) !important;
    }
    
    .sidebar.active {
        left: 0 !important;
        transform: translateX(0) !important;
    }
    
    /* Ensure sidebar content is visible */
    .sidebar .logo,
    .sidebar .nav-menu,
    .sidebar .nav-item,
    .sidebar .nav-item a {
        opacity: 1 !important;
        visibility: visible !important;
        color: white !important;
    }
    
    .sidebar .nav-item a {
        color: rgba(255, 255, 255, 0.8) !important;
        padding: 15px 20px !important;
        margin-bottom: 5px !important;
        border-radius: 12px !important;
        margin-left: 10px !important;
        margin-right: 10px !important;
    }
    
    .sidebar .nav-item.active a,
    .sidebar .nav-item a:hover {
        background: rgba(255, 255, 255, 0.2) !important;
        color: white !important;
    }
    
    /* Adjust main content for mobile */
    .main-content {
        margin-left: 0 !important;
        width: 100% !important;
        padding: 70px 15px 15px 15px !important;
    }
    
    /* Hide desktop header on mobile */
    .header {
        display: none !important;
    }
    
    /* Dashboard mobile fixes */
    .dashboard-top-row {
        grid-template-columns: 1fr;
        gap: 20px;
    }
    
    .progress-content {
        flex-direction: column;
        align-items: center;
        text-align: center;
    }
    
    .calorie-display {
        margin-bottom: 20px;
    }
}

/* Modal styles */
.modal {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.5);
display: flex;
align-items: center;
justify-content: center;
z-index: 1000;
opacity: 0;
transition: opacity 0.3s ease;
}

.modal.active {
opacity: 1;
}

.modal-content {
background: var(--bg-primary);
border-radius: var(--radius-xl);
padding: var(--space-6);
max-width: 600px;
width: 90%;
max-height: 80vh;
overflow-y: auto;
transform: scale(0.9);
transition: transform 0.3s ease;
box-shadow: var(--shadow-lg);
}

.modal.active .modal-content {
transform: scale(1);
}

.modal-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: var(--space-5);
padding-bottom: var(--space-3);
border-bottom: 1px solid var(--border-light);
}

.modal-title {
color: var(--text-primary);
font-size: var(--text-xl);
font-weight: var(--font-semibold);
}

.modal-close {
background: none;
border: none;
font-size: 1.5rem;
cursor: pointer;
color: var(--text-secondary);
padding: var(--space-2);
border-radius: var(--radius-md);
transition: all 0.3s ease;
width: 40px;
height: 40px;
display: flex;
align-items: center;
justify-content: center;
}

.modal-close:hover {
background: var(--bg-secondary);
color: var(--text-primary);
}

/* Video thumbnail hover effect */
.video-thumbnail:hover .play-button {
transform: scale(1.1);
background: rgba(255, 0, 0, 0.9);
}

/* Recipe card video play button */
.video-play-button {
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
width: 60px;
height: 60px;
background: rgba(255, 0, 0, 0.8);
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
color: white;
font-size: 24px;
cursor: pointer;
transition: all 0.3s ease;
z-index: 2;
border: 3px solid white;
}

.video-play-button:hover {
background: rgba(255, 0, 0, 0.9);
transform: translate(-50%, -50%) scale(1.1);
}

.video-play-button::before {
content: '▶';
margin-left: 3px;
}

/* Toast notifications */
.toast {
position: fixed;
top: 20px;
right: 20px;
background: var(--success-color);
color: white;
padding: var(--space-4) var(--space-5);
border-radius: var(--radius-lg);
box-shadow: var(--shadow-lg);
transform: translateX(100%);
transition: transform 0.3s ease;
z-index: 1100;
max-width: 300px;
}

.toast.show {
transform: translateX(0);
}

.toast.error {
background: var(--error-color);
}

.toast.warning {
background: var(--warning-color);
}

@media (max-width: 480px) {
.toast {
left: 20px;
right: 20px;
top: 20px;
transform: translateY(-100%);
max-width: none;
}

.toast.show {
transform: translateY(0);
}
}

/* Ensure proper responsive layout */
@media (max-width: 1200px) {
.dashboard-grid {
grid-template-columns: 1fr 1fr;
}
}

@media (max-width: 768px) {
.dashboard-grid {
grid-template-columns: 1fr;
}
}
/* New Visual Goals Layout */
.goals-visual-container {
    padding: 40px;
    min-height: calc(100vh - 120px);
    color: white;
}

.goals-visual-header {
    text-align: center;
    margin-bottom: 40px;
}

.goals-visual-header h1 {
    font-size: 2.5rem;
    font-weight: 700;
    margin: 0;
    color: white !important;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

/* Weekly Charts Grid */
.weekly-charts-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px;
    margin-bottom: 50px;
}

/* Enhanced Chart Styling */
.chart-card-visual {
    background: rgba(255, 255, 255, 0.15);
    border-radius: 24px;
    padding: 30px;
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

.chart-card-visual:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    background: rgba(255, 255, 255, 0.2);
}

.chart-card-visual::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #ff7043, #ffb74d, #fff176, #81c784);
    opacity: 0.8;
}

.chart-area-visual {
    height: 220px;
    margin: 20px 0;
    position: relative;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 16px;
    padding: 15px;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

.chart-area-visual::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.03), transparent);
    border-radius: 16px;
    pointer-events: none;
}

/* Enhanced chart icons */
.chart-icon {
    font-size: 2.5rem;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.1));
    padding: 15px;
    border-radius: 50%;
    width: 70px;
    height: 70px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    border: 2px solid rgba(255, 255, 255, 0.2);
}

/* Chart days with better styling */
.chart-days {
    display: flex;
    justify-content: space-between;
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.9);
    font-weight: 600;
    margin-top: 15px;
    padding: 0 15px;
}

.chart-days span {
    padding: 5px 8px;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.1);
    transition: all 0.3s ease;
}

.chart-days span:hover {
    background: rgba(255, 255, 255, 0.2);
    transform: scale(1.05);
}

.chart-header-visual {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
}


.chart-header-visual h3 {
    font-size: 1.2rem;
    font-weight: 600;
    margin: 0;
    color: white;
}


.chart-area-visual canvas {
    width: 100% !important;
    height: 100% !important;
}


/* Average Stats Row */
.average-stats-row {
    display: flex;
    justify-content: center;
    gap: 60px;
    margin-bottom: 50px;
    flex-wrap: wrap;
}

.stat-circle {
    width: 180px;
    height: 180px;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 50%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    text-align: center;
}

.stat-number {
    font-size: 3rem;
    font-weight: 700;
    color: white;
    margin-bottom: 10px;
    line-height: 1;
}

.stat-label {
    font-size: 1rem;
    color: rgba(255, 255, 255, 0.9);
    font-weight: 500;
    line-height: 1.2;
}

/* Bottom Row */
.bottom-row {
    display: grid;
    grid-template-columns: 1.2fr 1fr;
    gap: 40px;
}

.suggestions-panel {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 24px;
    padding: 30px;
    color: #333;
}

.suggestions-panel h3 {
    font-size: 1.3rem;
    font-weight: 600;
    margin: 0 0 20px 0;
    color: #333;
}

.suggestions-panel h4 {
    font-size: 1.1rem;
    font-weight: 600;
    margin: 30px 0 15px 0;
    color: #333;
}

.exercise-suggestion {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 16px;
    border-left: 4px solid #667eea;
    margin-bottom: 20px;
}

.recipe-suggestions-visual {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.recipe-suggestion-visual {
    background: #f1f8e9;
    padding: 15px;
    border-radius: 12px;
    border-left: 3px solid #51cf66;
}

.recipe-name-visual {
    font-weight: 600;
    color: #333;
    margin-bottom: 5px;
}

.recipe-match-visual {
    font-size: 0.9rem;
    color: #666;
    font-style: italic;
}

/* Goals Setting Panel */
.goals-setting-panel {
    display: flex;
    flex-direction: column;
    gap: 30px;
}

.goals-form-section,
.profile-form-section {
    background: rgba(255, 255, 255, 0.15);
    border-radius: 20px;
    padding: 25px;
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.goal-input-row,
.profile-input-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.goal-input-row label,
.profile-input-row label {
    color: white;
    font-weight: 600;
    font-size: 0.95rem;
    min-width: 140px;
}

.goal-input-row input,
.goal-input-row select,
.profile-input-row input,
.profile-input-row select {
    padding: 8px 12px;
    border: none;
    border-radius: 8px;
    background: rgba(255, 255, 255, 0.9);
    color: #333;
    font-size: 0.9rem;
    width: 100px;
    text-align: center;
}

.goals-buttons,
.profile-buttons {
    display: flex;
    gap: 10px;
    margin-top: 20px;
    justify-content: center;
}

.btn-set,
.btn-clear,
.btn-reset {
    padding: 8px 20px;
    border: none;
    border-radius: 20px;
    font-weight: 600;
    font-size: 0.9rem;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-set {
    background: #51cf66;
    color: white;
}

.btn-set:hover {
    background: #40c057;
    transform: translateY(-1px);
}

.btn-clear {
    background: #ff8c69;
    color: white;
}

.btn-clear:hover {
    background: #ff7043;
    transform: translateY(-1px);
}

.btn-reset {
    background: #667eea;
    color: white;
}

.btn-reset:hover {
    background: #5a6fd8;
    transform: translateY(-1px);
}

/* Responsive Design */
@media (max-width: 1200px) {
    .weekly-charts-grid {
        grid-template-columns: 1fr;
        gap: 20px;
    }
    
    .average-stats-row {
        gap: 30px;
    }
    
    .stat-circle {
        width: 140px;
        height: 140px;
    }
    
    .stat-number {
        font-size: 2.2rem;
    }
    
    .bottom-row {
        grid-template-columns: 1fr;
        gap: 30px;
    }
}

@media (max-width: 768px) {
    .goals-visual-container {
        padding: 20px;
    }
    
    .goals-visual-header h1 {
        font-size: 1.8rem;
        color: white !important;
    }
    
    .average-stats-row {
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
    }
    
    .stat-circle {
        width: 120px;
        height: 120px;
    }
    
    .stat-number {
        font-size: 1.8rem;
    }
    
    .goal-input-row,
    .profile-input-row {
        flex-direction: column;
        align-items: flex-start;
        gap: 8px;
    }
    
    .goal-input-row input,
    .profile-input-row input,
    .profile-input-row select {
        width: 100%;
    }
}
</style>
</head>

<!-- <body>
<div class="container"> -->

<body>

<!-- Mobile Navigation Header -->
<div class="mobile-nav">
    <div class="mobile-nav-header">
        <div class="mobile-nav-logo">
            <div class="logo">
            <img src="assets/images/Mobile Logo.png" alt="Smart Fridge Logo" class="logo-image">
            </div>
        </div>
    </div>
    <div class="mobile-nav-tabs">
        <button class="mobile-nav-tab active" data-section="dashboard">Dashboard</button>
        <button class="mobile-nav-tab" data-section="inventory">Inventory</button>
        <button class="mobile-nav-tab" data-section="recipes">Recipes</button>
        <button class="mobile-nav-tab" data-section="calendar">Calendar</button>
        <button class="mobile-nav-tab" data-section="goals">Goals</button>
    </div>
</div>

<!-- Mobile Overlay -->
<div class="mobile-overlay" onclick="closeMobileMenu()"></div>

<div class="container">

<!-- Header -->
<div class="header">
<h1>Smart Fridge</h1>
<p>Smart meal planning with your ingredients</p>
</div>
<!-- Smart Fridge Layout with Persistent Navigation -->
<div class="smart-fridge-layout">
<!-- Sidebar Navigation -->
<nav class="sidebar">
<div class="logo">
<img src="assets/images/Nav Smart Fridge.png" alt="Smart Fridge Logo" class="logo-image">
</div>
<ul class="nav-menu">
    <li class="nav-item active">
        <a href="#" data-section="dashboard">
            <span class="nav-icon">
                <img src="assets/images/Dashboard.png" alt="Dashboard" class="nav-icon-image">
            </span>
            <span class="nav-text">Dashboard</span>
        </a>
    </li>
    <li class="nav-item">
        <a href="#" data-section="inventory">
            <span class="nav-icon">
                <img src="assets/images/Inventory.png" alt="Inventory" class="nav-icon-image">
            </span>
            <span class="nav-text">Inventory</span>
        </a>
    </li>
    <li class="nav-item">
        <a href="#" data-section="recipes">
            <span class="nav-icon">
                <img src="assets/images/Recipe.png" alt="Recipes" class="nav-icon-image">
            </span>
            <span class="nav-text">Recipes</span>
        </a>
    </li>
    <li class="nav-item">
        <a href="#" data-section="calendar">
            <span class="nav-icon">
                <img src="assets/images/Calendar.png" alt="Calendar" class="nav-icon-image">
            </span>
            <span class="nav-text">Calendar</span>
        </a>
    </li>
    <li class="nav-item">
        <a href="#" data-section="goals">
            <span class="nav-icon">
                <img src="assets/images/Goals.png" alt="Goals" class="nav-icon-image">
            </span>
            <span class="nav-text">Goals</span>
        </a>
    </li>
</ul>
</nav>

<!-- Main Content Area for all sections -->
<main class="main-content">
<!-- Dashboard Section -->
<div id="dashboard" class="content-section active">
<!-- Top Row -->
<div class="dashboard-top-row">
<!-- Today's Progress Card -->
<div class="progress-card">
<h2>Today's Progress</h2>
<div class="progress-content">
<div class="calorie-display">
<div class="calorie-circle">
<svg width="120" height="120" viewBox="0 0 120 120">
<defs>
<linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="0%">
<stop offset="0%" style="stop-color:#4ECDC4"/>
<stop offset="100%" style="stop-color:#44A08D"/>
</linearGradient>
</defs>
<circle cx="60" cy="60" r="50" fill="none" stroke="#e0e0e0" stroke-width="8"/>
<circle class="circle-progress" cx="60" cy="60" r="50" fill="none"
stroke="url(#gradient)" stroke-width="8" stroke-linecap="round"/>
</svg>
<div class="circle-text">
<span class="number">0</span>
<span class="label">of 2000 cal</span>
</div>
</div>
<div class="consumed-label">Consumed</div>
</div>
<div class="macros-display">
<!-- Macros will be populated by JavaScript -->
</div>
</div>
<!-- Meals List -->
<div class="meals-list" id="meals-breakdown">
<!-- Meals will be populated by JavaScript -->
</div>
</div>
<!-- Things to Make Card -->
<div class="suggestions-card">
<h2>Things to Make</h2>
<div class="recipe-suggestions" id="recipe-suggestions">
<!-- Recipes will be populated by JavaScript -->
</div>
</div>
</div>
<!-- Shopping List Card -->
<div class="shopping-list-card">
<h2>Shopping List</h2>
<div class="shopping-grid" id="auto-grocery-grid">
<!-- Shopping items will be populated by JavaScript -->
</div>
</div>
</div>


<!-- Inventory Section -->
<div id="inventory" class="content-section">
<div class="inventory-container">
<!-- Add Ingredient Form -->
<div class="add-ingredient-card">
<h3>Add Ingredient</h3>
<form id="ingredientForm" class="ingredient-form-grid">
<div class="form-row">
<div class="form-group">
<label for="ingredientName">Name:</label>
<input type="text" id="ingredientName" placeholder="Enter ingredient name" required>
</div>
<div class="form-group">
<label for="ingredientUnit">Unit:</label>
<select id="ingredientUnit" required>
<option value="">Select unit...</option>
<option value="grams">Grams</option>
<option value="kg">Kilograms</option>
<option value="pieces">Pieces</option>
<option value="cups">Cups</option>
<option value="tablespoons">Tablespoons</option>
<option value="teaspoons">Teaspoons</option>
<option value="ounces">Ounces</option>
<option value="pounds">Pounds</option>
<option value="milliliters">Milliliters</option>
<option value="liters">Liters</option>
</select>
</div>
</div>
<div class="form-row">
<div class="form-group">
<label for="ingredientQuantity">Quantity:</label>
<input type="number" id="ingredientQuantity" placeholder="Enter quantity" step="0.1" min="0" required>
</div>
<div class="form-group">
<label for="ingredientCategory">Category:</label>
<select id="ingredientCategory">
<option value="">Auto-detect</option>
<option value="Fruits">Fruits</option>
<option value="Vegetables">Vegetables</option>
<option value="Grains">Grains</option>
<option value="Proteins">Proteins</option>
<option value="Dairy">Dairy</option>
<option value="Other">Other</option>
</select>
</div>
</div>
<div class="form-buttons">
<button type="submit" class="btn btn-primary">Add</button>
<button type="button" class="btn btn-secondary" onclick="this.closest('form').reset()">Clear</button>
</div>
</form>
</div>

<!-- Search Bar -->
<div class="search-container">
<input type="text" id="ingredientSearch" placeholder="🔍 Search ingredients..." class="search-input">
</div>

<!-- Category Filter Buttons -->
<div class="category-filters">
<button class="filter-btn active" onclick="inventory.filterByCategory('all')" data-category="all">All</button>
<button class="filter-btn" onclick="inventory.filterByCategory('Proteins')" data-category="Proteins">Protein</button>
<button class="filter-btn" onclick="inventory.filterByCategory('Vegetables')" data-category="Vegetables">Vege</button>
<button class="filter-btn" onclick="inventory.filterByCategory('Grains')" data-category="Grains">Grains</button>
<button class="filter-btn" onclick="inventory.filterByCategory('Fruits')" data-category="Fruits">Fruits</button>
<button class="filter-btn" onclick="inventory.filterByCategory('Dairy')" data-category="Dairy">Dairy</button>
<button class="filter-btn" onclick="inventory.filterByCategory('Other')" data-category="Other">Others</button>
</div>

<!-- Inventory Grid -->
<div class="inventory-grid" id="inventoryList">
<!-- This will be populated by the Inventory component -->
</div>
</div>
</div>


<!-- Recipes Section -->
<div id="recipes" class="content-section">
<div class="card" style="margin-bottom: var(--space-8);">
<h3>Recipe Filters</h3>
<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-4);">
<div class="form-group">
<label>Max Calories</label>
<input type="number" placeholder="e.g., 500" id="maxCalories">
</div>
<div class="form-group">
<label>Min Protein (g)</label>
<input type="number" placeholder="e.g., 20" id="minProtein">
</div>
<div class="form-group">
<label>Cuisine Type</label>
<select id="cuisineType">
<option value="">All Cuisines</option>
<option value="asian">Asian</option>
<option value="italian">Italian</option>
<option value="mexican">Mexican</option>
<option value="american">American</option>
<option value="mediterranean">Mediterranean</option>
</select>
</div>
<div class="form-group">
<button class="btn btn-primary" onclick="filterRecipes()" style="margin-top: 24px;">Find Recipes</button>
</div>
</div>
</div>
<div class="recipe-grid">
<!-- Recipes will be populated by JavaScript -->
</div>
</div>

<!-- Calendar Section -->
<div id="calendar" class="content-section">
    <div class="calendar-new-layout">
        <!-- Left Side: Meal Details -->
        <div class="meals-today-panel">
            <div class="meals-header">
                <h2 id="selected-date-title">Meals on this day</h2>
                <div class="total-calories">
                    <span>Total Calories: </span>
                    <span id="daily-total-calories">0</span>
                </div>
            </div>
            <div class="meals-list-container" id="meal-details-content">
                <!-- Meals will be populated by JavaScript -->
                <div class="no-meals-selected">
                    <div class="empty-meal-icon">🍽</div>
                    <p>Select a date to view meals</p>
                </div>
            </div>
        </div>
        
        <!-- Right Side: Calendar and Top Meals -->
        <div class="calendar-right-panel">
            <!-- Calendar -->
            <div class="calendar-widget">
                <div class="calendar-header">
                    <button class="calendar-nav-btn" id="prev-month" onclick="navigateMonth(-1)">
                        <span>‹</span>
                    </button>
                    <h2 id="calendar-month-display">Loading...</h2>
                    <button class="calendar-nav-btn" id="next-month" onclick="navigateMonth(1)">
                        <span>›</span>
                    </button>
                </div>
                <div class="calendar-weekdays">
                    <div class="weekday">Mon</div>
                    <div class="weekday">Tues</div>
                    <div class="weekday">Weds</div>
                    <div class="weekday">Thurs</div>
                    <div class="weekday">Fri</div>
                    <div class="weekday">Sat</div>
                    <div class="weekday">Sun</div>
                </div>
                <div class="calendar-grid" id="calendar-dates-grid">
                    <!-- Calendar dates will be populated by JavaScript -->
                </div>
            </div>
            
            <!-- Top Picks Section -->
            <div class="top-picks-section">
                <h3>Your Top Picks this Month ⭐</h3>
                <div class="top-picks-grid" id="top-meals-grid">
                    <!-- Top meals will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Goals -->
<div id="goals" class="content-section">
    <div class="goals-visual-container">
        <!-- Header -->
        <div class="goals-visual-header">
            <h1>Hope you're doing great, here's your insights for this week!</h1>
        </div>
        
        <!-- Top Row: Weekly Charts -->
        <div class="weekly-charts-grid">
            <!-- Calories Chart -->
            <div class="chart-card-visual">
                <div class="chart-header-visual">
                    <div class="chart-icon">🔥</div>
                    <h3>Calories per day</h3>
                </div>
                <div class="chart-area-visual">
                    <canvas id="caloriesChartVisual"></canvas>
                </div>
                <div class="chart-days">
                    <span>Mon</span><span>Tues</span><span>Weds</span><span>Thurs</span><span>Fri</span><span>Sat</span><span>Sun</span>
                </div>
            </div>
            
            <!-- Protein Chart -->
            <div class="chart-card-visual">
                <div class="chart-header-visual">
                    <div class="chart-icon">🥩</div>
                    <h3>Protein per day</h3>
                </div>
                <div class="chart-area-visual">
                    <canvas id="proteinChartVisual"></canvas>
                </div>
                <div class="chart-days">
                    <span>Mon</span><span>Tues</span><span>Weds</span><span>Thurs</span><span>Fri</span><span>Sat</span><span>Sun</span>
                </div>
            </div>
            
            <!-- Carbs Chart -->
            <div class="chart-card-visual">
                <div class="chart-header-visual">
                    <div class="chart-icon">🍞</div>
                    <h3>Carbs per day</h3>
                </div>
                <div class="chart-area-visual">
                    <canvas id="carbsChartVisual"></canvas>
                </div>
                <div class="chart-days">
                    <span>Mon</span><span>Tues</span><span>Weds</span><span>Thurs</span><span>Fri</span><span>Sat</span><span>Sun</span>
                </div>
            </div>
            
            <!-- Fats Chart -->
            <div class="chart-card-visual">
                <div class="chart-header-visual">
                    <div class="chart-icon">🧈</div>
                    <h3>Fats per day</h3>
                </div>
                <div class="chart-area-visual">
                    <canvas id="fatsChartVisual"></canvas>
                </div>
                <div class="chart-days">
                    <span>Mon</span><span>Tues</span><span>Weds</span><span>Thurs</span><span>Fri</span><span>Sat</span><span>Sun</span>
                </div>
            </div>
        </div>
        
        <!-- Middle Row: Average Stats -->
        <div class="average-stats-row">
            <div class="stat-circle">
                <div class="stat-number" id="avgCalories">643</div>
                <div class="stat-label">Average Calories<br>cal</div>
            </div>
            <div class="stat-circle">
                <div class="stat-number" id="avgCarbs">68</div>
                <div class="stat-label">Average Carbs<br>grams</div>
            </div>
            <div class="stat-circle">
                <div class="stat-number" id="avgProtein">40</div>
                <div class="stat-label">Average Proteins<br>grams</div>
            </div>
            <div class="stat-circle">
                <div class="stat-number" id="avgFats">24</div>
                <div class="stat-label">Average Fats<br>grams</div>
            </div>
        </div>
        
        <!-- Bottom Row: Suggestions and Goals -->
        <div class="bottom-row">
            <!-- Left: Suggestions -->
            <div class="suggestions-panel">
                <h3>Suggest level of exercise based on user's profile</h3>
                <div class="exercise-suggestion" id="exerciseSuggestionVisual">
                    <!-- Will be populated by JavaScript -->
                </div>
                
                <h4>Suggested Recipes Based on user's goals</h4>
                <div class="recipe-suggestions-visual" id="recipeSuggestionsVisual">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>
            
            <!-- Right: Goals Setting -->
            <div class="goals-setting-panel">
                <div class="goals-form-section">
                    <div class="goal-input-row">
                        <label>Daily Caloric Goal</label>
                        <input type="number" id="dailyCalorieGoalVisual" placeholder="2000">
                    </div>
                    <div class="goal-input-row">
                        <label>Daily Protein Goal (g)</label>
                        <input type="number" id="dailyProteinGoalVisual" placeholder="150">
                    </div>
                    <div class="goal-input-row">
                        <label>Daily Carbs Goal (g)</label>
                        <input type="number" id="dailyCarbsGoalVisual" placeholder="250">
                    </div>
                    <div class="goal-input-row">
                        <label>Daily Fats Goal (g)</label>
                        <input type="number" id="dailyFatsGoalVisual" placeholder="65">
                    </div>
                    <div class="goals-buttons">
                        <button class="btn-set" onclick="goals.setDailyGoalsVisual()">Set</button>
                        <button class="btn-clear" onclick="goals.clearDailyGoalsVisual()">Clear</button>
                    </div>
                </div>
                
                <div class="profile-form-section">
                    <div class="profile-input-row">
                        <label>Age:</label>
                        <input type="number" id="userAgeVisual" placeholder="25">
                    </div>
                    <div class="profile-input-row">
                        <label>Gender:</label>
                        <select id="userGenderVisual">
                            <option value="">Select</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                        </select>
                    </div>
                    <div class="profile-buttons">
                        <button class="btn-set" onclick="goals.setUserProfileVisual()">SET</button>
                        <button class="btn-clear" onclick="goals.clearUserProfileVisual()">CLEAR</button>
                        <button class="btn-reset" onclick="resetOnboarding()">RESET SETUP</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- JavaScript Files - Load in correct order -->
<!-- Data files first -->
<script src="js/data/recipes.js"></script>
<script src="js/data/nutrition.js"></script>
<script src="js/data/ingredients.js"></script>
<!-- Utility files -->
<script src="js/utils/helpers.js"></script>
<script src="js/utils/storage.js"></script>
<script src="js/utils/nutrition.js"></script>
<!-- Component files -->
<script src="js/components/inventory.js"></script>
<script src="js/components/dashboard.js"></script>
<script src="js/components/recipes.js"></script>
<script src="js/components/calendar.js"></script>
<script src="js/components/goals.js"></script>
<!-- Main application file last -->
<script src="js/main.js"></script>

<script>
// Calendar functionality for the new design
let currentCalendarDate = new Date();
let selectedDate = null;

// Month navigation
function navigateMonth(direction) {
currentCalendarDate.setMonth(currentCalendarDate.getMonth() + direction);
renderCalendarGrid();
updateCalendarHeader();
}

// Update calendar header
function updateCalendarHeader() {
const monthNames = ["January", "February", "March", "April", "May", "June",
"July", "August", "September", "October", "November", "December"];
const monthDisplay = document.getElementById('calendar-month-display');
if (monthDisplay) {
monthDisplay.textContent = `${monthNames[currentCalendarDate.getMonth()]} ${currentCalendarDate.getFullYear()}`;
}
}

// Render calendar grid
function renderCalendarGrid() {
const grid = document.getElementById('calendar-dates-grid');
if (!grid) return;

const year = currentCalendarDate.getFullYear();
const month = currentCalendarDate.getMonth();
const today = new Date();
const firstDay = new Date(year, month, 1);
const lastDay = new Date(year, month + 1, 0);
const startDate = new Date(firstDay);
startDate.setDate(startDate.getDate() - (firstDay.getDay() || 7) + 1); // Start from Monday

grid.innerHTML = '';

// Generate 42 days (6 weeks)
for (let i = 0; i < 42; i++) {
const date = new Date(startDate);
date.setDate(startDate.getDate() + i);

const dateElement = document.createElement('div');
dateElement.className = 'calendar-date';
dateElement.textContent = date.getDate();
dateElement.dataset.date = date.toISOString().split('T')[0];

// Add classes
if (date.getMonth() !== month) {
dateElement.classList.add('other-month');
}
if (date.toDateString() === today.toDateString()) {
dateElement.classList.add('today');
}
if (selectedDate && date.toDateString() === selectedDate.toDateString()) {
dateElement.classList.add('selected');
}

// Check if date has meals
if (hasMealsOnDate(date)) {
dateElement.classList.add('has-meals');
}

// Add click event
dateElement.addEventListener('click', () => selectDate(date));

grid.appendChild(dateElement);
}
}

// Select a date
function selectDate(date) {
selectedDate = new Date(date);
renderCalendarGrid();
displayMealsForDate(date);
updateSelectedDateTitle(date);
}

// Check if date has meals
function hasMealsOnDate(date) {
const dateKey = date.toISOString().split('T')[0];
if (window.calendar && window.calendar.meals) {
return window.calendar.meals[dateKey] && window.calendar.meals[dateKey].length > 0;
}
return false;
}

// Display meals for selected date
// Display meals for selected date
function displayMealsForDate(date) {
    const dateKey = date.toISOString().split('T')[0];
    const content = document.getElementById('meal-details-content');
    const totalCaloriesSpan = document.getElementById('daily-total-calories');
    if (!content) return;

    let meals = [];
    let totalCalories = 0;

    // Get meals from calendar component
    if (window.calendar && window.calendar.meals && window.calendar.meals[dateKey]) {
        meals = window.calendar.meals[dateKey];
        totalCalories = meals.reduce((sum, meal) => sum + (meal.calories || 0), 0);
    }

    // Update total calories
    if (totalCaloriesSpan) {
        totalCaloriesSpan.textContent = totalCalories;
    }

    // Render meals
    if (meals.length === 0) {
        content.innerHTML = `
            <div class="no-meals-selected">
                <div class="empty-meal-icon">🍽</div>
                <p>No meals logged for this day</p>
                <button class="btn btn-primary" onclick="addMealForDate('${dateKey}')">Add Meal</button>
            </div>
        `;
    } else {
        content.innerHTML = meals.map(meal => {
            // Try to find the recipe to get thumbnail
            const allRecipes = window.calendar.getAllRecipes();
            const recipe = allRecipes.find(r => r.name === meal.name);
            let thumbnailUrl = null;
            
            if (recipe && recipe.videoUrl) {
                const videoId = VideoUtils.extractVideoId(recipe.videoUrl);
                thumbnailUrl = VideoUtils.getThumbnailUrl(videoId, 'hqdefault');
            }

            return `
                <div class="meal-card">
                    <div class="meal-image">
                        ${thumbnailUrl ? 
                            `<img src="${thumbnailUrl}" alt="${meal.name}">` 
                            : (meal.emoji || '🍽')
                        }
                    </div>
                    <div class="meal-info">
                        <div class="meal-name">${meal.name}</div>
                        <div class="meal-nutrition">
                            <div class="nutrition-item">${meal.calories || 0} cal</div>
                            <div class="nutrition-item">${meal.protein || 0}g Protein</div>
                            <div class="nutrition-item">${meal.carbs || 0}g Carbs</div>
                            <div class="nutrition-item">${meal.fat || 0}g Fat</div>
                        </div>
                    </div>
                </div>
            `;
        }).join('');
    }
}

// Render top meals
// Render top meals with new layout (no ranking)
function renderTopMeals() {
    const grid = document.getElementById('top-meals-grid');
    if (!grid) return;

    const mealFrequency = {};
    if (window.calendar && window.calendar.meals) {
        Object.values(window.calendar.meals).forEach(dayMeals => {
            dayMeals.forEach(meal => {
                const key = meal.name.toLowerCase();
                if (!mealFrequency[key]) {
                    mealFrequency[key] = {
                        name: meal.name,
                        count: 0,
                        emoji: meal.emoji || '🍽'
                    };
                }
                mealFrequency[key].count++;
            });
        });
    }

    // Sort and get top 3
    const topMeals = Object.values(mealFrequency)
        .sort((a, b) => b.count - a.count)
        .slice(0, 3);

    if (topMeals.length === 0) {
        grid.innerHTML = `
            <div style="grid-column: 1 / -1; text-align: center; padding: 2rem; color: rgba(255, 255, 255, 0.8);">
                <div style="font-size: 3rem; margin-bottom: 1rem;">📊</div>
                <div>No meals logged this month</div>
            </div>
        `;
        return;
    }

    // Get all recipes to find thumbnails
    let allRecipes = [];
    if (window.calendar && typeof window.calendar.getAllRecipes === 'function') {
        allRecipes = window.calendar.getAllRecipes();
    }

    grid.innerHTML = topMeals.map((meal, index) => {
        const recipe = allRecipes.find(r => r.name === meal.name);
        let thumbnailUrl = null;
        
        if (recipe && recipe.videoUrl) {
            const videoId = VideoUtils.extractVideoId(recipe.videoUrl);
            thumbnailUrl = VideoUtils.getThumbnailUrl(videoId, 'hqdefault');
        }

        return `
            <div class="top-meal-card">
                <div class="top-meal-image">
                    ${thumbnailUrl ? 
                        `<img src="${thumbnailUrl}" alt="${meal.name}">` 
                        : meal.emoji
                    }
                </div>
                <div class="top-meal-name">${meal.name}</div>
                <div class="meal-count">${meal.count} times</div>
            </div>
        `;
    }).join('');
}

// Update selected date title
function updateSelectedDateTitle(date) {
const title = document.getElementById('selected-date-title');
if (title) {
const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
const isToday = date.toDateString() === new Date().toDateString();
title.textContent = isToday ? 'Meals for Today' : `Meals on ${date.toLocaleDateString('en-US', options)}`;
}
}

// Add meal for specific date
function addMealForDate(dateKey) {
if (window.calendar && typeof window.calendar.showMealPlanningModal === 'function') {
window.calendar.showMealPlanningModal(dateKey);
} else {
showToast('Calendar component not available', 'warning');
}
}


// Initialize calendar
document.addEventListener('DOMContentLoaded', function() {
setTimeout(() => {
updateCalendarHeader();
renderCalendarGrid();
renderTopMeals();

// Select today by default
selectDate(new Date());

// Listen for calendar updates
window.addEventListener('calendar-updated', () => {
renderCalendarGrid();
renderTopMeals();
if (selectedDate) {
displayMealsForDate(selectedDate);
}
});
}, 1000);
});

// Global toast function (fallback if not available from main.js)
if (typeof showToast === 'undefined') {
function showToast(message, type = 'success') {
// Remove existing toast
const existingToast = document.querySelector('.toast.show');
if (existingToast) {
existingToast.remove();
}

// Create new toast
const toast = document.createElement('div');
toast.className = `toast ${type}`;
toast.innerHTML = `
<div class="toast-content">
<span class="toast-message">${message}</span>
<button class="toast-close" onclick="this.closest('.toast').remove()">&times;</button>
</div>
`;

// Add to page
document.body.appendChild(toast);

// Show toast
setTimeout(() => toast.classList.add('show'), 10);

// Auto-hide after 3 seconds
setTimeout(() => {
if (toast.parentNode) {
toast.classList.remove('show');
setTimeout(() => toast.remove(), 300);
}
}, 3000);
}
}

// Navigation function (fallback if not available from main.js)
if (typeof showSection === 'undefined') {
function showSection(sectionId) {
// Hide all sections
const sections = document.querySelectorAll('.content-section');
sections.forEach(section => section.classList.remove('active'));

// Show selected section
const targetSection = document.getElementById(sectionId);
if (targetSection) {
targetSection.classList.add('active');
}

// Update active tab in sidebar
const sidebarTabs = document.querySelectorAll('.nav-item');
sidebarTabs.forEach(tab => tab.classList.remove('active'));

// Find and activate the correct sidebar tab
const activeTab = document.querySelector(`.nav-item a[onclick*="${sectionId}"]`)?.parentElement;
if (activeTab) {
activeTab.classList.add('active');
}
}
}

// Recipe filtering function (fallback if not available from main.js)
if (typeof filterRecipes === 'undefined') {
function filterRecipes() {
if (window.recipes && typeof window.recipes.applyFilters === 'function') {
window.recipes.applyFilters();
} else {
console.log('Recipe filters applied');
showToast('Recipe filters applied!', 'success');
}
}
}

// Close modals when clicking outside
document.addEventListener('click', function(e) {
if (e.target.classList.contains('modal')) {
e.target.remove();
}
});

// Close modals with Escape key
document.addEventListener('keydown', function(e) {
if (e.key === 'Escape') {
const modal = document.querySelector('.modal.active');
if (modal) {
modal.remove();
}
}
});
</script>
<script>
// Check if user has completed onboarding
document.addEventListener('DOMContentLoaded', function() {
    const onboardingCompleted = localStorage.getItem('mtable_onboarding_completed');
    
    if (!onboardingCompleted) {
        // Redirect to onboarding if not completed
        window.location.href = 'onboarding.html';
        return;
    }
    
    // Load user data and update UI
    loadUserData();
});

function resetOnboarding() {
    if (confirm('This will reset your profile and take you back to the welcome screen. Continue?')) {
        localStorage.removeItem('mtable_onboarding_completed');
        localStorage.removeItem('mtable_user_profile');
        window.location.href = 'onboarding.html';
    }
}

function loadUserData() {
    const userData = localStorage.getItem('mtable_user_profile');
    if (userData) {
        const user = JSON.parse(userData);
        
        // Update welcome message or user name display if you have one
        console.log(`Welcome back, ${user.firstName}!`);
        
        // You can add a personalized greeting here
        const headerElement = document.querySelector('.header h1');
        if (headerElement && user.firstName) {
            headerElement.textContent = `Welcome back, ${user.firstName}!`;
        }
    }
}

// Force refresh goals when section is shown
const originalShowSection = window.showSection;
window.showSection = function(sectionId) {
    originalShowSection(sectionId);
    
    if (sectionId === 'goals' && window.goals) {
        setTimeout(() => {
            console.log('Goals section shown, forcing refresh...');
            window.goals.refreshGoalsDisplayVisual();
        }, 300);
    }
};

</script>

<script>
function toggleMobileMenu() {
    const sidebar = document.querySelector('.sidebar');
    const overlay = document.querySelector('.mobile-overlay');
    const body = document.body;
    
    const isActive = sidebar.classList.contains('active');
    
    if (isActive) {
        sidebar.classList.remove('active');
        overlay.classList.remove('active');
        body.style.overflow = '';
    } else {
        sidebar.classList.add('active');
        overlay.classList.add('active');
        body.style.overflow = 'hidden';
    }
}

function closeMobileMenu() {
    const sidebar = document.querySelector('.sidebar');
    const overlay = document.querySelector('.mobile-overlay');
    const body = document.body;
    
    sidebar.classList.remove('active');
    overlay.classList.remove('active');
    body.style.overflow = '';
}

// Close mobile menu when clicking nav items - ENHANCED
document.addEventListener('click', function(e) {
    const navLink = e.target.closest('.nav-item a');
    if (navLink) {
        // Close the mobile menu
        closeMobileMenu();
        
        // Get the data-section attribute
        const section = navLink.getAttribute('data-section');
        if (section) {
            showSection(section);
            
            // Update active states
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            navLink.closest('.nav-item').classList.add('active');
        }
    }
});

// Handle window resize
window.addEventListener('resize', function() {
    if (window.innerWidth > 768) {
        closeMobileMenu();
    }
});
</script>
<script>

// Mobile Navigation Handler
document.addEventListener('DOMContentLoaded', function() {
    // Handle mobile nav tab clicks
    document.querySelectorAll('.mobile-nav-tab').forEach(tab => {
        tab.addEventListener('click', function() {
            const section = this.getAttribute('data-section');
            if (section) {
                // Update active tab
                document.querySelectorAll('.mobile-nav-tab').forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                
                // Show section
                showSection(section);
            }
        });
    });

    // Enhanced showSection function
    window.showSection = function(sectionId) {
        console.log('Showing section:', sectionId);
        
        // Hide all sections
        const sections = document.querySelectorAll('.content-section');
        sections.forEach(section => section.classList.remove('active'));
        
        // Show selected section
        const targetSection = document.getElementById(sectionId);
        if (targetSection) {
            targetSection.classList.add('active');
        }
        
        // Update desktop sidebar
        const sidebarTabs = document.querySelectorAll('.nav-item');
        sidebarTabs.forEach(tab => tab.classList.remove('active'));
        const activeSidebarTab = document.querySelector(`.nav-item a[data-section="${sectionId}"]`)?.parentElement;
        if (activeSidebarTab) {
            activeSidebarTab.classList.add('active');
        }
        
        // Update mobile tabs
        const mobileTabs = document.querySelectorAll('.mobile-nav-tab');
        mobileTabs.forEach(tab => tab.classList.remove('active'));
        const activeMobileTab = document.querySelector(`.mobile-nav-tab[data-section="${sectionId}"]`);
        if (activeMobileTab) {
            activeMobileTab.classList.add('active');
        }
    };
});

// Make sure showSection function exists and works
function showSection(sectionId) {
    console.log('Showing section:', sectionId);
    
    // Hide all sections
    const sections = document.querySelectorAll('.content-section');
    sections.forEach(section => {
        section.classList.remove('active');
    });
    
    // Show selected section
    const targetSection = document.getElementById(sectionId);
    if (targetSection) {
        targetSection.classList.add('active');
        console.log('Section activated:', sectionId);
    } else {
        console.error('Section not found:', sectionId);
    }
    
    // Update active tab in sidebar
    const sidebarTabs = document.querySelectorAll('.nav-item');
    sidebarTabs.forEach(tab => tab.classList.remove('active'));
    
    // Find and activate the correct sidebar tab
    const activeTab = document.querySelector(`.nav-item a[data-section="${sectionId}"]`)?.parentElement;
    if (activeTab) {
        activeTab.classList.add('active');
    }
}
</script>
</body>
</html>